<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 SYSTEM "../../../dtd/dblite.dtd">
<sect1 id="tsvn-dug-diff">
	<title>Viewing Differences</title>
	<indexterm>
		<primary>diff</primary>
	</indexterm>
	<para>
		One of the commonest requirements in project development is to
		see what has changed. You might want to look at the differences
		between two revisions of the same file, or the differences between
		two separate files.
		TortoiseSVN provides a builtin tool named 
		<application>TortoiseMerge</application> for viewing differences of
		text files. For viewing differences of image files, TortoiseSVN
		also has a tool named <application>TortoiseIDiff</application>.
		Of course, you can use your own favourite diff program if you
		like.
	</para>
	<sect2 id="tsvn-dug-diff-file">
		<title>File Differences</title>
		<variablelist>
			<varlistentry>
				<term>Local changes</term>
				<listitem>
					<para>
						If you want to see what changes <emphasis>you</emphasis>
						have made in your working copy, just use the explorer
						context menu and select
						<menuchoice>
							<guimenu>TortoiseSVN</guimenu>
							<guimenuitem>Diff</guimenuitem>
						</menuchoice>.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Difference to another branch/tag</term>
				<listitem>
					<para>
						If you want to see what has changed on trunk (if you are
						working on a branch) or on a specific branch (if you are
						working on trunk), you can use the explorer context menu.
						Just hold down the <keycap>Shift</keycap> key while you
						right click on the file. Then select
						<menuchoice>
							<guimenu>TortoiseSVN</guimenu>
							<guimenuitem>Diff with URL</guimenuitem>
						</menuchoice>. In the following dialog, specify the URL in
						the repository with which you want to compare your local
						file to.
					</para>
					<para>
						You can also use the repository browser and select two
						trees to diff, perhaps two tags, or a branch/tag and trunk.
						The context menu there allows you to compare them
						using <guimenuitem>Compare revisions</guimenuitem>.
						Read more in <xref linkend="tsvn-dug-compare-revs"/>.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Difference from a previous revision</term>
				<listitem>
					<para>
						If you want to see the difference between a particular
						revision and your working copy, use the Revision Log
						dialog, select the revision of interest, then select
						<guimenuitem>Compare with working copy</guimenuitem>
						from the context menu.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Difference between two previous revisions</term>
				<listitem>
					<para>
						If you want to see the difference between two revisions
						which are already committed, use the Revision Log
						dialog and select the two revisions you want to compare
						(using the usual <keycap>Ctrl</keycap>-modifier).
						Then select <guimenuitem>Compare revisions</guimenuitem>
						from the context menu.
					</para>
					<para>
						If you did this from the revision log for a folder,
						a Compare Revisions dialog appears, showing a list
						of changed files in that folder. Read more in
						<xref linkend="tsvn-dug-compare-revs"/>.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>All changes made in a commit</term>
				<listitem>
					<para>
						If you want to see the changes made to all files
						in a particular revision in one view, you can
						use Unified-Diff output (GNU patch format). This shows
						only the differences with a few lines of context. It
						is harder to read than a visual file compare, but will
						show all the changes together. From the Revision Log
						dialog select the revision of interest, then select
						<guimenuitem>Show Differences as Unified-Diff</guimenuitem>
						from the context menu.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Difference between files</term>
				<listitem>
					<para>
						If you want to see the differences between two different
						files, you can do that directly in explorer by selecting
						both files (using the usual <keycap>Ctrl</keycap>-modifier).
						Then from the explorer context menu select
						<menuchoice>
							<guimenu>TortoiseSVN</guimenu>
							<guimenuitem>Diff</guimenuitem>
						</menuchoice>.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Difference between WC file/folder and a URL</term>
				<listitem>
					<para>
						If you want to see the differences between a file in your
						working copy, and a file in any Subversion repository,
						you can do that directly in explorer by selecting the
						file then holding down the <keycap>Shift</keycap> key whilst
						right clicking to obtain the context menu. Select
						<menuchoice>
							<guimenu>TortoiseSVN</guimenu>
							<guimenuitem>Diff with URL</guimenuitem>
						</menuchoice>.
						You can do the same thing for a working copy folder.
						TortoiseMerge shows these differences in the same way
						as it shows a patchfile - a list of changed files which
						you can view one at a time.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Difference with blame information</term>
				<listitem>
					<para>
						If you want to see not only the differences but also the author,
						revision and date that changes were made, you can combine the
						diff and blame reports from within the revision log dialog.
						Read <xref linkend="tsvn-dug-blame-diffs"/> for more detail.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Difference between folders</term>
				<listitem>
					<para>
						The builtin tools supplied with TortoiseSVN do not support
						viewing differences between directory hierarchies. But if you
						have an external tool which does support that feature, you can
						use that instead. In <xref linkend="tsvn-dug-diff-tools"/>
						we tell you about some tools which we have used.
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</sect2>
	<sect2 id="tsvn-dug-compare-revs">
		<title>Comparing Folders</title>
		<indexterm>
			<primary>compare revisions</primary>
		</indexterm>
		<indexterm>
			<primary>export changes</primary>
		</indexterm>
		<para>
			<figure id="tsvn-dug-compare-revs-dia-1">
				<title>The Compare Revisions Dialog</title>
				<graphic fileref="../images/CompareRevisions.png"/>
			</figure>
			When you select two trees within the repository browser, or when
			you select two revisions of a folder in the log dialog, you can
			<menuchoice>
				<guimenu>Context menu</guimenu>
				<guimenuitem>Compare revisions</guimenuitem>
			</menuchoice>.
		</para>
		<para>
			This dialog shows a list of all files which have changed and allows
			you to compare or blame them individually using context menu.
		</para>
		<para>
			You can also export the list of changed files to a text file,
			or you can export the changed files themselves to a folder.
			This operation works on the selected files only, so you need
			to select the files of interest - usually that means all of them.
		</para>
		<para>
			The button at the top allows you to change the direction of
			comparison. You can show the changes need to get from A to B,
			or if you prefer, from B to A.
		</para>
	</sect2>
	<sect2 id="tsvn-dug-idiff">
		<title>Diffing Images Using TortoiseIDiff</title>
		<indexterm>
			<primary>image diff</primary>
		</indexterm>
		<indexterm>
			<primary>TortoiseIDiff</primary>
		</indexterm>
		<para>
			There are many tools available for diffing text files, including our
			own TortoiseMerge, but we often find ourselves wanting to see how
			an image file has changed too. That's why we created TortoiseIDiff.
		</para>
		<para>
			<figure id="tsvn-dug-idiff-dia-1">
				<title>The image difference viewer</title>
				<graphic fileref="../images/TortoiseIDiff.png"/>
			</figure>
			<menuchoice>
				<guimenu>TortoiseSVN</guimenu>
				<guimenuitem>Diff</guimenuitem>
			</menuchoice>
			for any of the common image file formats will start TortoiseIDiff
			to show image differences. By default the images are displayed side-by-side
			but you can use the View menu or toolbar to switch to a top-bottom
			view instead, or if you prefer, you can overlay the images and pretend
			you are using a lightbox. A slider at the top controls the relative
			intensity of the images. Naturally you can also zoom in and out and pan
			around the image. If you select the <guilabel>Link images together</guilabel>
			option, then the pan controls (scrollbars, wheelmouse) on both images are linked.
		</para>
		<para>
			In image info box shows details about the image file, such as the
			size in pixels, resolution and colour depth. If this box gets in the
			way, use
			<menuchoice>
				<guimenu>View</guimenu>
				<guimenuitem>Image Info</guimenuitem>
			</menuchoice>
			to hide it.
		</para>
	</sect2>
	<sect2 id="tsvn-dug-diff-tools">
		<title>External Diff/Merge Tools</title>
		<indexterm>
			<primary>diff tools</primary>
		</indexterm>
		<indexterm>
			<primary>merge tools</primary>
		</indexterm>
		<para>
			If the tools we	provide don't do what you need, try one of the many
			open-source or commercial programs available. Everyone has their own
			favourites, and this list is by no means complete, but here are a few
			that you might consider:
		</para>
		<variablelist>
			<varlistentry>
				<term>WinMerge</term>
				<listitem>
					<para>
						<ulink url="http://winmerge.sourceforge.net/">
							<citetitle>WinMerge</citetitle>
						</ulink>
						is a great open-source diff tool which can also
						handle directories.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Perforce Merge</term>
				<listitem>
					<para>
						Perforce is a commercial RCS, but you can download the
						diff/merge tool for free. Get more information from
						<ulink url="http://www.perforce.com/perforce/products/merge.html">
							<citetitle>Perforce</citetitle>
						</ulink>.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>KDiff3</term>
				<listitem>
					<para>
						KDiff3 is a free diff tool which can also handle
						directories. You can download it from
						<ulink url="http://kdiff3.sf.net/">
							<citetitle>here</citetitle>
						</ulink>.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>ExamDiff</term>
				<listitem>
					<para>
						ExamDiff Standard is freeware. It can handle
						files but not directories.
						ExamDiff Pro is shareware and adds a number
						of goodies including directory diff and editing
						capability.
						In both flavours, version 3.2 and above can handle
						unicode. You can download them from
						<ulink url="http://www.prestosoft.com/">
							<citetitle>PrestoSoft</citetitle>
						</ulink>.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Beyond Compare</term>
				<listitem>
					<para>
						Similar to ExamDiff Pro, this is an excellent shareware
						diff tool which can handle directory diffs and unicode.
						Download it from
						<ulink url="http://www.scootersoftware.com/">
							<citetitle>Scooter Software</citetitle>
						</ulink>.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Araxis Merge</term>
				<listitem>
					<para>
						Araxis Merge is a useful commercial tool for diff and merging
						both files and folders. It does three-way comparision in merges
						and has synchronization links to use if you've changed the order
						of functions. Download it from
						<ulink url="http://www.araxis.com/merge/index.html">
							<citetitle>Araxis</citetitle>
						</ulink>.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>SciTE</term>
				<listitem>
					<para>
						This text editor includes syntax colouring for unified diffs,
						making them much easier to read. Download it from
						<ulink url="http://www.scintilla.org/SciTEDownload.html">
							<citetitle>Scintilla</citetitle>
						</ulink>.
					</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Notepad2</term>
				<listitem>
					<para>
						Notepad2 is designed as a replacement for the standard
						Windows Notepad program, and is based on the Scintilla
						open-source edit control. As well as being good for
						viewing unified diffs, it is much better than the
						Windows notepad for most jobs. Download it for free
						<ulink url="http://www.flos-freeware.ch/notepad2.html">
							<citetitle>here</citetitle>
						</ulink>.
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<para>
			Read <xref linkend="tsvn-dug-settings-progs"/> for information
			on how to set up TortoiseSVN to use these tools.
		</para>
	</sect2>
</sect1>
